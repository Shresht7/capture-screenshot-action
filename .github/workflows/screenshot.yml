# ============================
#         SCREENSHOT
# ----------------------------
# Take screenshot of a website
# ============================

name: Screenshot

# Activation Events
# =================

on:
  workflow_dispatch:  # When a workflow event is dispatched manually

# Jobs
# ====

jobs:
  screenshot:
    runs-on: ubuntu-latest
    
    name: Screenshot
    steps:
    
      # Actions/Checkout ‚úÖ
      # ===================

      # Required for GITHUB_WORKSPACE
      - name: Checkout
        uses: actions/checkout@v3

      # Take Screenshot üì∑
      # ==================

      - name: Screenshot
        uses: Shresht7/web-screenshot-action@main
        id: screenshot
        with:
          url: https://www.github.com/Shresht7/web-screenshot-action
          name: screenshots/screenshot-light

      - name: Screenshot-Dark
        uses: Shresht7/web-screenshot-action@main
        id: screenshot-dark
        with:
          url: https://www.github.com/Shresht7/web-screenshot-action
          name: screenshots/screenshot-dark
          darkMode: true

      # Push to Main üåê
      # ===============

      - name: Commit
        run: |
          git config user.name 'github-actions[bot]'
          git config user.email 'github-actions[bot]@users.noreply.github.com'
          git add .
          git commit -m 'Update screenshot üì∑'
          git push